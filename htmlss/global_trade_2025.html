<html>
<head>
  <link rel="stylesheet" href="../styles.css">
  <title>Global Trade 2025 - NISR Data Science Hackathon 2025</title>
</head>
<body>
  <header style="background: #001f3f; color: #C0C0C0; padding: 16px 0; text-align: center; border-bottom: 2px solid #C0C0C0; position: relative;">
    <h1>NISR Data Science Hackathon 2025</h1>
    <p>Rwanda Market Intelligence & Global Trade Overview</p>
    <button id="logoutBtn" style="position:absolute; top:24px; right:32px; background:#d9534f; color:#fff; border:none; border-radius:8px; padding:8px 16px; cursor:pointer;">Logout</button>
  </header>
  <nav style="background: #003366; padding: 8px 0;">
    <ul style="display: flex; justify-content: center; list-style: none; gap: 2em; margin: 0; padding: 0;">
      <li><a href="front_page.html">Home</a></li>
      <li><a href="global_trade_2025.html">Global Trade 2025</a></li>
      <li><a href="demand_prediction_2026.html">2026 Demand Prediction</a></li>
      <li><a href="policy_recommendation.html">Policy Recommendation</a></li>
      <li><a href="youth_sme_engagement.html">Youth & SME Engagement</a></li>
      <li><a href="currency_analysis.html">Currency Analysis</a></li>
      <li><a href="referencing.html">Referencing</a></li>
    </ul>
  </nav>
  <main>
    <section>
      <h2>Rwanda Economic Overview 2025</h2>
      <p><strong>Population:</strong> 14.1 million | <strong>GDP:</strong> $14.25B (2024) | <strong>Q1 2025 Growth:</strong> 7.8%</p>
      <p><strong>GDP per Capita:</strong> $1,040 (2025 est.)</p>
      
      <!-- Economic Stats Visual Cards -->
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 20px 0;">
        <div style="background: linear-gradient(135deg, #001f3f, #003366); color: white; padding: 20px; border-radius: 10px; text-align: center; box-shadow: 0 4px 8px rgba(0,0,0,0.2);">
          <div style="font-size: 2em; font-weight: bold;">$2.99B</div>
          <div style="font-size: 0.9em; margin-top: 5px;">Total Exports</div>
          <div style="font-size: 0.8em; color: #90EE90;">↗ +38.5%</div>
        </div>
        <div style="background: linear-gradient(135deg, #003366, #0066cc); color: white; padding: 20px; border-radius: 10px; text-align: center; box-shadow: 0 4px 8px rgba(0,0,0,0.2);">
          <div style="font-size: 2em; font-weight: bold;">$4.98B</div>
          <div style="font-size: 0.9em; margin-top: 5px;">Total Imports</div>
          <div style="font-size: 0.8em; color: #90EE90;">↗ +29%</div>
        </div>
        <div style="background: linear-gradient(135deg, #0066cc, #4da6ff); color: white; padding: 20px; border-radius: 10px; text-align: center; box-shadow: 0 4px 8px rgba(0,0,0,0.2);">
          <div style="font-size: 2em; font-weight: bold;">$445M</div>
          <div style="font-size: 0.9em; margin-top: 5px;">Tourism Revenue</div>
          <div style="font-size: 0.8em; color: #90EE90;">↗ +171.3%</div>
        </div>
      </div>
    </section>

    <article>
      <h3>Trade Performance Dashboard</h3>
      <!-- Trade Performance Chart -->
      <div style="background: white; padding: 20px; border-radius: 10px; margin: 15px 0; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
        <canvas id="tradePerformanceChart" width="800" height="400"></canvas>
      </div>
    </article>

    <section>
      <h3>Key Export Markets</h3>
      <!-- Export Markets Visual -->
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin: 15px 0;">
        <div style="background: rgba(0, 51, 102, 0.1); padding: 15px; border-radius: 8px; border-left: 4px solid #001f3f;">
          <div style="display: flex; justify-content: space-between; align-items: center;">
            <div>
              <div style="font-weight: bold; color: #001f3f;">United Arab Emirates</div>
              <div style="font-size: 0.9em; color: #666;">Leading export destination</div>
            </div>
            <div style="font-size: 1.5em; font-weight: bold; color: #001f3f;">28.3%</div>
          </div>
          <div style="background: #001f3f; height: 8px; border-radius: 4px; margin-top: 10px;">
            <div style="background: #4da6ff; height: 100%; width: 28.3%; border-radius: 4px;"></div>
          </div>
        </div>
        
        <div style="background: rgba(0, 51, 102, 0.1); padding: 15px; border-radius: 8px; border-left: 4px solid #003366;">
          <div style="display: flex; justify-content: space-between; align-items: center;">
            <div>
              <div style="font-weight: bold; color: #003366;">Congo DRC</div>
              <div style="font-size: 0.9em; color: #666;">Regional trade partner</div>
            </div>
            <div style="font-size: 1.5em; font-weight: bold; color: #003366;">20.19%</div>
          </div>
          <div style="background: #003366; height: 8px; border-radius: 4px; margin-top: 10px;">
            <div style="background: #66b3ff; height: 100%; width: 20.19%; border-radius: 4px;"></div>
          </div>
        </div>
        
        <div style="background: rgba(0, 51, 102, 0.1); padding: 15px; border-radius: 8px; border-left: 4px solid #0066cc;">
          <div style="display: flex; justify-content: space-between; align-items: center;">
            <div>
              <div style="font-weight: bold; color: #0066cc;">China</div>
              <div style="font-size: 0.9em; color: #666;">Strategic partner</div>
            </div>
            <div style="font-size: 1.5em; font-weight: bold; color: #0066cc;">11.81%</div>
          </div>
          <div style="background: #0066cc; height: 8px; border-radius: 4px; margin-top: 10px;">
            <div style="background: #99ccff; height: 100%; width: 11.81%; border-radius: 4px;"></div>
          </div>
        </div>
      </div>
      
      <!-- Export Markets Pie Chart -->
      <div style="background: white; padding: 20px; border-radius: 10px; margin: 15px 0; box-shadow: 0 2px 8px rgba(0,0,0,0.1); text-align: center;">
        <h4>Export Markets Distribution</h4>
        <canvas id="exportMarketsChart" width="400" height="400"></canvas>
      </div>
    </section>

    <article>
      <h3>Principal Export Products</h3>
      <!-- Export Products Visual Grid -->
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin: 15px 0;">
        <div style="background: linear-gradient(135deg, #ffd700, #ffed4e); padding: 15px; border-radius: 10px; text-align: center; color: #333; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
          <div style="font-size: 2em;">Gold</div>
          <div style="font-weight: bold;">Leading Export</div>
        </div>
        <div style="background: linear-gradient(135deg, #8b4513, #d2691e); padding: 15px; border-radius: 10px; text-align: center; color: white; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
          <div style="font-size: 2em;">Coffee</div>
          <div style="font-weight: bold;">Premium Quality</div>
        </div>
        <div style="background: linear-gradient(135deg, #228b22, #90ee90); padding: 15px; border-radius: 10px; text-align: center; color: white; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
          <div style="font-size: 2em;">Tea</div>
          <div style="font-weight: bold;">Export Grade</div>
        </div>
        <div style="background: linear-gradient(135deg, #ff69b4, #ffc0cb); padding: 15px; border-radius: 10px; text-align: center; color: #333; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
          <div style="font-size: 2em;">Sanitary Products</div>
          <div style="font-weight: bold;">Towels & Diapers</div>
        </div>
        <div style="background: linear-gradient(135deg, #696969, #a9a9a9); padding: 15px; border-radius: 10px; text-align: center; color: white; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
          <div style="font-size: 2em;">Steel Products</div>
          <div style="font-weight: bold;">Flat-Rolled</div>
        </div>
      </div>
    </article>

    <section>
      <h3>Economic Sectors Analysis</h3>
      <!-- Sectors Chart -->
      <div style="background: white; padding: 20px; border-radius: 10px; margin: 15px 0; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
        <canvas id="sectorsChart" width="600" height="400"></canvas>
      </div>
      
      <!-- Sectors Grid -->
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 15px 0;">
        <div style="background: rgba(40, 167, 69, 0.1); padding: 15px; border-radius: 8px; border-left: 4px solid #28a745;">
          <div style="font-weight: bold; color: #28a745;">Services Sector</div>
          <div style="font-size: 1.5em; font-weight: bold; color: #28a745;">46% of GDP</div>
          <div style="font-size: 0.9em; color: #666;">Q1 2025: Strong growth</div>
        </div>
        <div style="background: rgba(255, 193, 7, 0.1); padding: 15px; border-radius: 8px; border-left: 4px solid #ffc107;">
          <div style="font-weight: bold; color: #ffc107;">Industry Sector</div>
          <div style="font-size: 1.5em; font-weight: bold; color: #ffc107;">21% of GDP</div>
          <div style="font-size: 0.9em; color: #666;">Q1 2025: Strong expansion</div>
        </div>
        <div style="background: rgba(0, 123, 255, 0.1); padding: 15px; border-radius: 8px; border-left: 4px solid #007bff;">
          <div style="font-weight: bold; color: #007bff;">Agriculture</div>
          <div style="font-size: 1.5em; font-weight: bold; color: #007bff;">Rural Base</div>
          <div style="font-size: 0.9em; color: #666;">Q1 2025: Modest growth</div>
        </div>
      </div>
    </section>

    <!-- GDP Analysis Section -->
    <section>
      <h2>GDP & Economic Growth Analysis</h2>
      <p>Real-time GDP data showing Rwanda's economic transformation from 2020 to 2025.</p>
      
      <!-- GDP Sector Trends -->
      <div class="chart-container" style="background: rgba(0, 31, 63, 0.85); padding: 20px; border-radius: 10px; margin: 15px 0; box-shadow: 0 2px 8px rgba(0,0,0,0.2); border: 2px solid rgba(192, 192, 192, 0.3);">
        <canvas id="gdpSectorChart" width="800" height="400"></canvas>
      </div>
      
      <!-- GDP Growth Rates -->
      <div class="chart-container" style="background: rgba(0, 31, 63, 0.85); padding: 20px; border-radius: 10px; margin: 15px 0; box-shadow: 0 2px 8px rgba(0,0,0,0.2); border: 2px solid rgba(192, 192, 192, 0.3);">
        <canvas id="gdpGrowthChart" width="800" height="400"></canvas>
      </div>
      
      <!-- Top Growing Subsectors -->
      <div class="chart-container" style="background: rgba(0, 31, 63, 0.85); padding: 20px; border-radius: 10px; margin: 15px 0; box-shadow: 0 2px 8px rgba(0,0,0,0.2); border: 2px solid rgba(192, 192, 192, 0.3);">
        <canvas id="topSubsectorsChart" width="800" height="500"></canvas>
      </div>
      
      <!-- GDP-Export Correlation -->
      <div class="chart-container" style="background: rgba(0, 31, 63, 0.85); padding: 20px; border-radius: 10px; margin: 15px 0; box-shadow: 0 2px 8px rgba(0,0,0,0.2); border: 2px solid rgba(192, 192, 192, 0.3);">
        <canvas id="gdpExportCorrelationChart" width="800" height="400"></canvas>
      </div>
      
      <!-- Key Insights Cards -->
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin: 20px 0;">
        <div style="background: linear-gradient(135deg, #228b22, #32cd32); color: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.2);">
          <div style="font-size: 2em; font-weight: bold;">+179%</div>
          <div style="font-size: 1em; margin-top: 5px;">Industry Sector Growth</div>
          <div style="font-size: 0.85em; margin-top: 5px; opacity: 0.9;">2020Q1 - 2025Q1</div>
        </div>
        <div style="background: linear-gradient(135deg, #ffd700, #ffed4e); color: #333; padding: 20px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.2);">
          <div style="font-size: 2em; font-weight: bold;">+316%</div>
          <div style="font-size: 1em; margin-top: 5px;">Mining Sector Growth</div>
          <div style="font-size: 0.85em; margin-top: 5px; opacity: 0.8;">Highest subsector growth</div>
        </div>
        <div style="background: linear-gradient(135deg, #4169e1, #6495ed); color: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.2);">
          <div style="font-size: 2em; font-weight: bold;">+111%</div>
          <div style="font-size: 1em; margin-top: 5px;">Services Sector Growth</div>
          <div style="font-size: 0.85em; margin-top: 5px; opacity: 0.9;">Largest GDP contributor</div>
        </div>
        <div style="background: linear-gradient(135deg, #dc143c, #ff6347); color: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.2);">
          <div style="font-size: 2em; font-weight: bold;">+238%</div>
          <div style="font-size: 1em; margin-top: 5px;">Wholesale/Retail Growth</div>
          <div style="font-size: 0.85em; margin-top: 5px; opacity: 0.9;">Trade boom indicator</div>
        </div>
      </div>
    </section>

    <article>
      <h3>Strategic Advantages</h3>
      <ul>
        <li><strong>Low Corruption:</strong> 54th globally (Transparency International 2022) - One of Africa's 4 least corrupt nations</li>
        <li><strong>Fast Business Registration:</strong> Register in as little as 6 hours online or via RDB One Stop Centre</li>
        <li><strong>Market Access:</strong> EAC (150M consumers), COMESA (460M), AfCFTA (1.4B continental market)</li>
        <li><strong>Economic Growth:</strong> 7%+ annually for 20 years with 8.2% growth in 2022</li>
      </ul>
    </article>

    <section>
      <h3>Key Investment Opportunities</h3>
      <!-- Investment Opportunities Visual Grid -->
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 15px 0;">
        <div style="background: white; padding: 15px; border-radius: 8px; border-left: 4px solid #007bff; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
          <div style="color: #007bff; font-weight: bold;">Infrastructure</div>
          <div style="font-size: 0.9em; color: #666; margin-top: 5px;">Bugesera Airport, logistics hubs</div>
        </div>
        <div style="background: white; padding: 15px; border-radius: 8px; border-left: 4px solid #28a745; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
          <div style="color: #28a745; font-weight: bold;">Energy</div>
          <div style="font-size: 0.9em; color: #666; margin-top: 5px;">Renewable energy projects</div>
        </div>
        <div style="background: white; padding: 15px; border-radius: 8px; border-left: 4px solid #dc3545; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
          <div style="color: #dc3545; font-weight: bold;">Healthcare</div>
          <div style="font-size: 0.9em; color: #666; margin-top: 5px;">Medical equipment, pharma</div>
        </div>
        <div style="background: white; padding: 15px; border-radius: 8px; border-left: 4px solid #ffc107; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
          <div style="color: #ffc107; font-weight: bold;">Agriculture</div>
          <div style="font-size: 0.9em; color: #666; margin-top: 5px;">Value addition, processing</div>
        </div>
        <div style="background: white; padding: 15px; border-radius: 8px; border-left: 4px solid #6f42c1; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
          <div style="color: #6f42c1; font-weight: bold;">ICT</div>
          <div style="font-size: 0.9em; color: #666; margin-top: 5px;">Kigali Innovation City</div>
        </div>
        <div style="background: white; padding: 15px; border-radius: 8px; border-left: 4px solid #fd7e14; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
          <div style="color: #fd7e14; font-weight: bold;">Tourism</div>
          <div style="font-size: 0.9em; color: #666; margin-top: 5px;">Hotels, eco-tourism</div>
        </div>
      </div>
    </section>

    <!-- Interactive Data Explorer -->
    <section>
      <h3>Interactive Data Explorer</h3>
      <form id="datamapForm" style="background: rgba(0, 51, 102, 0.1); padding: 20px; border-radius: 10px; margin: 15px 0;">
        <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
          <label for="itemSelect" style="font-weight: bold; color: #001f3f;">Choose a Trade Item:</label>
          <select id="itemSelect" style="padding: 8px 12px; border: 2px solid #001f3f; border-radius: 5px; background: white; min-width: 200px;"></select>
          <button type="submit" style="background: #001f3f; color: white; border: none; padding: 10px 20px; border-radius: 5px; font-weight: bold; cursor: pointer;">Show Data</button>
        </div>
      </form>
      <div id="itemData" style="background: white; padding: 15px; border-radius: 8px; margin-top: 10px; min-height: 50px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"></div>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="datamap_viewer.js"></script>
    <script src="gdp_charts.js"></script>
    <script>
      // Trade Performance Chart
      const tradeCtx = document.getElementById('tradePerformanceChart').getContext('2d');
      new Chart(tradeCtx, {
        type: 'line',
        data: {
          labels: ['2020', '2021', '2022', '2023', '2024'],
          datasets: [{
            label: 'Exports ($B)',
            data: [1.8, 2.16, 2.99, 3.2, 3.5],
            borderColor: '#001f3f',
            backgroundColor: 'rgba(0, 31, 63, 0.1)',
            tension: 0.4
          }, {
            label: 'Imports ($B)',
            data: [3.2, 3.86, 4.98, 5.2, 5.5],
            borderColor: '#0066cc',
            backgroundColor: 'rgba(0, 102, 204, 0.1)',
            tension: 0.4
          }]
        },
        options: {
          responsive: true,
          plugins: {
            title: {
              display: true,
              text: 'Rwanda Trade Performance 2020-2024'
            }
          }
        }
      });

      // Export Markets Chart
      const marketsCtx = document.getElementById('exportMarketsChart').getContext('2d');
      new Chart(marketsCtx, {
        type: 'doughnut',
        data: {
          labels: ['UAE', 'Congo DRC', 'China', 'Pakistan', 'Others'],
          datasets: [{
            data: [28.3, 20.19, 11.81, 8.5, 31.2],
            backgroundColor: ['#001f3f', '#003366', '#0066cc', '#4da6ff', '#99ccff']
          }]
        },
        options: {
          responsive: true,
          plugins: {
            title: {
              display: true,
              text: 'Export Markets by Share (%)'
            }
          }
        }
      });

      // Economic Sectors Chart
      const sectorsCtx = document.getElementById('sectorsChart').getContext('2d');
      new Chart(sectorsCtx, {
        type: 'bar',
        data: {
          labels: ['Services', 'Industry', 'Agriculture'],
          datasets: [{
            label: '% of GDP',
            data: [46, 21, 33],
            backgroundColor: ['#28a745', '#ffc107', '#007bff']
          }]
        },
        options: {
          responsive: true,
          plugins: {
            title: {
              display: true,
              text: 'Economic Sectors by GDP Contribution'
            }
          },
          scales: {
            y: {
              beginAtZero: true,
              max: 50
            }
          }
        }
      });

      // Initialize GDP Charts
      window.addEventListener('DOMContentLoaded', () => {
        initializeGDPCharts({
          sectorChart: 'gdpSectorChart',
          growthChart: 'gdpGrowthChart',
          subsectorsChart: 'topSubsectorsChart',
          correlationChart: 'gdpExportCorrelationChart',
          topN: 10
        });
      });
    </script>
  </main>

  <footer style="background: #001f3f; color: #C0C0C0; text-align: center; padding: 12px 0; margin-top: 32px; border-top: 2px solid #C0C0C0;">
    <p>&copy; 2025 NISR Data Science Hackathon</p>
  </footer>
  <script>
    // Check if user is logged in when page loads
    function checkAuthentication() {
      fetch('/check_session')
        .then(response => response.json())
        .then(data => {
          if (!data.logged_in) {
            // Redirect to gateway if not logged in
            window.location.href = 'gateway.html';
          }
        })
        .catch(error => {
          console.error('Error checking authentication:', error);
          // Redirect to gateway on error
          window.location.href = 'gateway.html';
        });
    }

    // Call authentication check when page loads
    checkAuthentication();

    // Logout functionality
    document.getElementById('logoutBtn').onclick = function() {
      fetch('/logout')
        .then(response => response.json())
        .then(data => {
          if (data.success) {
            // Redirect to gateway after successful logout
            window.location.href = 'gateway.html';
          }
        })
        .catch(error => {
          console.error('Logout error:', error);
          // Redirect to gateway even on error
          window.location.href = 'gateway.html';
        });
    };
  </script>
  
  <!-- AI Chatbot Widget -->
  <script src="chatbot_widget.js"></script>
</body>
</html>