<html>
<head>
  <link rel="stylesheet" href="../styles.css">
  <title>Front Page - NISR Data Science Hackathon 2025
  </title>
</head>
<body>
  <header style="background: #001f3f; color: #C0C0C0; padding: 16px 0; text-align: center; border-bottom: 2px solid #C0C0C0; position: relative;">
    <h1>NISR Data Science Hackathon 2025 Presentation</h1>
    <p>Rwanda's next biggest export opportunity</p>
    <button id="logoutBtn" style="position:absolute; top:24px; right:32px; background:#d9534f; color:#fff; border:none; border-radius:8px; padding:8px 16px; cursor:pointer;">Logout</button>
  </header>
  <nav style="background: #003366; padding: 8px 0;">
    <ul style="display: flex; justify-content: center; list-style: none; gap: 2em; margin: 0; padding: 0;">
      <li><a href="front_page.html">Home</a></li>
      <li><a href="global_trade_2025.html">Global Trade 2025</a></li>
      <li><a href="demand_prediction_2026.html">2026 Demand Prediction</a></li>
      <li><a href="policy_recommendation.html">Policy Recommendation</a></li>
      <li><a href="youth_sme_engagement.html">Youth & SME Engagement</a></li>
      <li><a href="currency_analysis.html">Currency Analysis</a></li>
      <li><a href="referencing.html">Referencing</a></li>
    </ul>
  </nav>

  <main>
    <section>
      <h2>Rwanda's next biggest export opportunity</h2>
      <p>Gold, Health suppliers and Minerals rising in demand by 125%</p>
    </section>

    <article>
      <h3>Global economy policy shifting towards AI and edge technology</h3>
      <p>Investment in AI industry has quadrupled in the last 3 years marking a significant development in tech industry.</p>
    </article>

    <section>
      <h3>Exports Data Visualization</h3>
      <canvas id="exportsLineChart" width="900" height="400"></canvas>
      
      <h3>Exports Share by Country</h3>
      <canvas id="exportsSharePie" width="200" height="200"></canvas>
      
      <h3>Imports Share by Country</h3>
      <canvas id="importsSharePie" width="200" height="200"></canvas>
    </section>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="exports_chart.js"></script>
    <script src="share_piecharts.js"></script>
  </main>

  <footer style="background: #001f3f; color: #C0C0C0; text-align: center; padding: 12px 0; margin-top: 32px; border-top: 2px solid #C0C0C0;">
    <p>&copy; 2025 NISR Data Science Hackathon</p>
  </footer>
  <script>
    // Check if user is logged in when page loads
    function checkAuthentication() {
      fetch('/check_session')
        .then(response => response.json())
        .then(data => {
          if (!data.logged_in) {
            // Redirect to gateway if not logged in
            window.location.href = 'gateway.html';
          }
        })
        .catch(error => {
          console.error('Error checking authentication:', error);
          // Redirect to gateway on error
          window.location.href = 'gateway.html';
        });
    }

    // Call authentication check when page loads
    checkAuthentication();

    // Logout functionality
    document.getElementById('logoutBtn').onclick = function() {
      fetch('/logout')
        .then(response => response.json())
        .then(data => {
          if (data.success) {
            // Redirect to gateway after successful logout
            window.location.href = 'gateway.html';
          }
        })
        .catch(error => {
          console.error('Logout error:', error);
          // Redirect to gateway even on error
          window.location.href = 'gateway.html';
        });
    };
  </script>
</body>
</html>
